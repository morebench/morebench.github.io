<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Primary Meta Tags -->
  <!-- TODO: Replace with your paper title and author names -->
  <meta name="title" content="MoReBench">
  <!-- TODO: Write a compelling 150-160 character description of your research -->
  <meta name="description" content="BRIEF_DESCRIPTION_OF_YOUR_RESEARCH_CONTRIBUTION_AND_FINDINGS">
  <!-- TODO: Add 5-10 relevant keywords for your research area -->
  <meta name="keywords" content="moral reasoning, benchmark, AI, procedural reasoning, morality, large-scale, moral phd">
  <!-- TODO: List all authors -->
  <meta name="author" content="FIRST_AUTHOR_NAME, SECOND_AUTHOR_NAME">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <!-- TODO: Replace with your institution or lab name -->
  <meta property="og:site_name" content="INSTITUTION_OR_LAB_NAME">
  <!-- TODO: Same as paper title above -->
  <meta property="og:title" content="PAPER_TITLE">
  <!-- TODO: Same as description above -->
  <meta property="og:description" content="BRIEF_DESCRIPTION_OF_YOUR_RESEARCH_CONTRIBUTION_AND_FINDINGS">
  <!-- TODO: Replace with your actual website URL -->
  <meta property="og:url" content="https://YOUR_DOMAIN.com/YOUR_PROJECT_PAGE">
  <!-- TODO: Create a 1200x630px preview image and update path -->
  <meta property="og:image" content="https://YOUR_DOMAIN.com/static/images/social_preview.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="PAPER_TITLE - Research Preview">
  <meta property="article:published_time" content="2024-01-01T00:00:00.000Z">
  <meta property="article:author" content="FIRST_AUTHOR_NAME">
  <meta property="article:section" content="Research">
  <meta property="article:tag" content="KEYWORD1">
  <meta property="article:tag" content="KEYWORD2">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <!-- TODO: Replace with your lab/institution Twitter handle -->
  <meta name="twitter:site" content="@YOUR_TWITTER_HANDLE">
  <!-- TODO: Replace with first author's Twitter handle -->
  <meta name="twitter:creator" content="@AUTHOR_TWITTER_HANDLE">
  <!-- TODO: Same as paper title above -->
  <meta name="twitter:title" content="PAPER_TITLE">
  <!-- TODO: Same as description above -->
  <meta name="twitter:description" content="BRIEF_DESCRIPTION_OF_YOUR_RESEARCH_CONTRIBUTION_AND_FINDINGS">
  <!-- TODO: Same as social preview image above -->
  <meta name="twitter:image" content="https://YOUR_DOMAIN.com/static/images/social_preview.png">
  <meta name="twitter:image:alt" content="PAPER_TITLE - Research Preview">

  <!-- Academic/Research Specific -->
  <meta name="citation_title" content="PAPER_TITLE">
  <meta name="citation_author" content="FIRST_AUTHOR_LAST, FIRST_AUTHOR_FIRST">
  <meta name="citation_author" content="SECOND_AUTHOR_LAST, SECOND_AUTHOR_FIRST">
  <meta name="citation_publication_date" content="2024">
  <meta name="citation_conference_title" content="CONFERENCE_NAME">
  <meta name="citation_pdf_url" content="https://YOUR_DOMAIN.com/static/pdfs/paper.pdf">
  
  <!-- Additional SEO -->
  <meta name="theme-color" content="#2563eb">
  <meta name="msapplication-TileColor" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://ajax.googleapis.com">
  <link rel="preconnect" href="https://documentcloud.adobe.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">


  <!-- TODO: Replace with your paper title and authors -->
  <title>MoReBench | Rubric-based moral reasoning benchmark</title>
  
  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/x-icon" href="static/images/favicon.ico">
  <link rel="apple-touch-icon" href="static/images/favicon.ico">
  
  <!-- Critical CSS - Load synchronously -->
  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  
  <!-- Non-critical CSS - Load asynchronously -->
  <link rel="preload" href="static/css/bulma-carousel.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="static/css/bulma-slider.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="static/css/fontawesome.all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  <!-- Fallback for browsers that don't support preload -->
  <noscript>
    <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="static/css/bulma-slider.min.css">
    <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  </noscript>
  
  <!-- Fonts - Optimized loading -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Defer non-critical JavaScript -->
  <script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script defer src="static/js/bulma-carousel.min.js"></script>
  <script defer src="static/js/bulma-slider.min.js"></script>
  <script defer src="static/js/index.js"></script>
  
  <!-- Structured Data for Academic Papers -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ScholarlyArticle",
    "headline": "PAPER_TITLE",
    "description": "BRIEF_DESCRIPTION_OF_YOUR_RESEARCH_CONTRIBUTION_AND_FINDINGS",
    "author": [
      {
        "@type": "Person",
        "name": "FIRST_AUTHOR_NAME",
        "affiliation": {
          "@type": "Organization",
          "name": "INSTITUTION_NAME"
        }
      },
      {
        "@type": "Person",
        "name": "SECOND_AUTHOR_NAME",
        "affiliation": {
          "@type": "Organization",
          "name": "INSTITUTION_NAME"
        }
      }
    ],
    "datePublished": "2024-01-01",
    "publisher": {
      "@type": "Organization",
      "name": "CONFERENCE_OR_JOURNAL_NAME"
    },
    "url": "https://YOUR_DOMAIN.com/YOUR_PROJECT_PAGE",
    "image": "https://YOUR_DOMAIN.com/static/images/social_preview.png",
    "keywords": ["KEYWORD1", "KEYWORD2", "KEYWORD3", "machine learning", "computer vision"],
    "abstract": "FULL_ABSTRACT_TEXT_HERE",
    "citation": "BIBTEX_CITATION_HERE",
    "isAccessibleForFree": true,
    "license": "https://creativecommons.org/licenses/by/4.0/",
    "mainEntity": {
      "@type": "WebPage",
      "@id": "https://YOUR_DOMAIN.com/YOUR_PROJECT_PAGE"
    },
    "about": [
      {
        "@type": "Thing",
        "name": "RESEARCH_AREA_1"
      },
      {
        "@type": "Thing", 
        "name": "RESEARCH_AREA_2"
      }
    ]
  }
  </script>
  
  <!-- Website/Organization Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "INSTITUTION_OR_LAB_NAME",
    "url": "https://YOUR_INSTITUTION_WEBSITE.com",
    "logo": "https://YOUR_DOMAIN.com/static/images/favicon.ico",
    "sameAs": [
      "https://twitter.com/YOUR_TWITTER_HANDLE",
      "https://github.com/YOUR_GITHUB_USERNAME"
    ]
  }
  </script>
</head>
<body>


  <!-- Scroll to Top Button -->
  <button class="scroll-to-top" onclick="scrollToTop()" title="Scroll to top" aria-label="Scroll to top">
    <i class="fas fa-chevron-up"></i>
  </button>

  <!-- More Works Dropdown -->
  <div class="more-works-container">
    <button class="more-works-btn" onclick="toggleMoreWorks()" title="View More Works from Our Lab">
      <i class="fas fa-flask"></i>
      More Works
      <i class="fas fa-chevron-down dropdown-arrow"></i>
    </button>
    <div class="more-works-dropdown" id="moreWorksDropdown">
      <div class="dropdown-header">
        <h4>More Works from Our Lab</h4>
        <button class="close-btn" onclick="toggleMoreWorks()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="works-list">
        <!-- TODO: Replace with your lab's related works -->
        <a href="https://arxiv.org/abs/PAPER_ID_1" class="work-item" target="_blank">
          <div class="work-info">
            <!-- TODO: Replace with actual paper title -->
            <h5>Paper Title 1</h5>
            <!-- TODO: Replace with brief description -->
            <p>Brief description of the work and its main contribution.</p>
            <!-- TODO: Replace with venue and year -->
            <span class="work-venue">Conference/Journal 2024</span>
          </div>
          <i class="fas fa-external-link-alt"></i>
        </a>
        <!-- TODO: Add more related works or remove extra items -->
        <a href="https://arxiv.org/abs/PAPER_ID_2" class="work-item" target="_blank">
          <div class="work-info">
            <h5>Paper Title 2</h5>
            <p>Brief description of the work and its main contribution.</p>
            <span class="work-venue">Conference/Journal 2023</span>
          </div>
          <i class="fas fa-external-link-alt"></i>
        </a>
        <a href="https://arxiv.org/abs/PAPER_ID_3" class="work-item" target="_blank">
          <div class="work-info">
            <h5>Paper Title 3</h5>
            <p>Brief description of the work and its main contribution.</p>
            <span class="work-venue">Conference/Journal 2023</span>
          </div>
          <i class="fas fa-external-link-alt"></i>
        </a>
      </div>
    </div>
  </div>

  <main id="main-content">
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <!-- TODO: Replace with your paper title -->
            <h1 class="title is-1 publication-title">MoReBench: Evaluating Procedural and Pluralistic Moral Reasoning in Language Models, More than Outcomes</h1>
            <div class="is-size-5 publication-authors">
              <!-- TODO: Replace with your paper authors and their personal links -->
              <span class="author-block">
                <a href="https://kellycyy.github.io/" target="_blank">Yu Ying Chiu</a><sup>*1,2</sup>,</span>
                <span class="author-block">
                  <a href="https://symikelee.github.io/" target="_blank">Michael S. Lee</a><sup>*3</sup>,</span>
                  <span class="author-block">
                    Rachel Calcott<sup>4</sup>,</span>
                  <span class="author-block">
                    <a href="https://brandonhandoko.com/" target="_blank">Brandon Handoko</a><sup>3</sup>,</span>
                    <span class="author-block">
                      <a href="https://www.pauldfr.com/" target="_blank">Paul de Font-Reaulx</a><sup>5</sup>,</span>                  
                  <span class="author-block">
                    Paula Rodriguez<sup>3</sup>,</span>
                  <span class="author-block">
                    <a href="https://calvincbzhang.github.io/" target="_blank">Chen Bo Calvin Zhang</a><sup>3</sup>,</span>
                    <span class="author-block">
                      <a href="https://www.ziwenhan.com/" target="_blank">Ziwen Han</a><sup>†3</sup>,</span>          
                    <span class="author-block">
                      <a href="https://udarimadhu.github.io/" target="_blank">Udari Madhushani Sehwag</a><sup>3</sup>,</span>
                    <span class="author-block">
                      <a href="https://yashmaurya.com/" target="_blank">Yash Maurya</a><sup>3</sup>,</span>                                        
                      <span class="author-block">
                        Christina Knight<sup>3</sup>,</span>  
                      <span class="author-block">
                        <a href="https://www.harryrlloyd.com/" target="_blank">	
                          Harry Lloyd</a><sup>6</sup>,</span>   
                      <span class="author-block">
                        Florence Bacus<sup>4</sup>,</span> 
                      <br>                                
                      <span class="author-block">
                        Mantas Mazeika<sup>7</sup>,</span>  
                        <span class="author-block">
                          <a href="http://bingliu.me/" target="_blank">	
                            Bing Liu</a><sup>3</sup>,</span>                           
                        <span class="author-block">
                          <a href="https://yejinc.github.io/" target="_blank">	
                            Yejin Choi</a><sup>8</sup>,</span>   
                        <span class="author-block">
                          <a href="https://mitchellg.github.io/" target="_blank">	
                            Mitchell Gordon</a><sup>9</sup>,</span>   
                        <span class="author-block">
                          <a href="https://sites.google.com/site/sydneymlevine/" target="_blank">	
                            Sydney Levine</a><sup>2,4,9</sup></span>   
                  </div>

                  <div class="is-size-6 publication-authors institution-list">
                    <!-- TODO: Replace with your institution and conference/journal info <br>Conference name and year -->
                    <span class="author-block"><sup>1</sup> University of Washington</span>
                    <span class="author-block"><sup>2</sup> New York University</span>
                    <span class="author-block"><sup>3</sup> Scale AI</span>
                    <span class="author-block"><sup>4</sup> Harvard University</span>
                    <span class="author-block"><sup>5</sup> University of Michigan</span><br>
                    <span class="author-block"><sup>6</sup> UNC Chapel Hill</span>
                    <span class="author-block"><sup>7</sup> Center for AI Safety</span>
                    <span class="author-block"><sup>8</sup> Stanford University</span>
                    <span class="author-block"><sup>9</sup> MIT</span> 
                    <!-- TODO: Remove this line if no equal contribution -->
                    <div class="eql-cntrb" style="margin-top: 12px;"><small><sup>*</sup>Indicates Equal Contribution&nbsp;&nbsp;&nbsp;<sup>†</sup>Work while done at Scale AI</small></div>
                  </div>

                  <div class="column has-text-centered">
                    <div class="publication-links">
                    <!-- TODO: Update with your arXiv paper ID -->
                    <span class="link-block">
                      <a href="https://arxiv.org/abs/<ARXIV PAPER ID>" target="_blank"
                      class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="ai ai-arxiv"></i>
                      </span>
                      <span>arXiv</span>
                         <!-- TODO: Update with your arXiv paper ID -->
                      <!-- <span class="link-block">
                        <a href="https://arxiv.org/pdf/<ARXIV PAPER ID>.pdf" target="_blank"
                        class="external-link button is-normal is-rounded is-dark">
                        <span class="icon">
                          <i class="fas fa-file-pdf"></i>
                        </span>
                        <span>Paper</span>
                      </a>
                    </span> -->

                    <!-- TODO: Add your supplementary material PDF or remove this section -->
                    <span class="link-block">
                      <a href="static/pdfs/supplementary_material.pdf" target="_blank"
                      class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                      </span>
                      <span>Supplementary</span>
                    </a>
                  </span>

                  <!-- TODO: Replace with your GitHub repository URL -->
                  <span class="link-block">
                    <a href="https://github.com/YOUR REPO HERE" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>


                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Teaser video-->
<!-- <section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body"> -->
      <!-- TODO: Replace with your teaser video -->
      <!-- <video poster="" id="tree" autoplay controls muted loop height="100%" preload="metadata"> -->
        <!-- TODO: Add your video file path here -->
        <!-- <source src="static/videos/banner_video.mp4" type="video/mp4">
      </video> -->
      <!-- TODO: Replace with your video description -->
      <!-- <h2 class="subtitle has-text-centered">
        Aliquam vitae elit ullamcorper tellus egestas pellentesque. Ut lacus tellus, maximus vel lectus at, placerat pretium mi. Maecenas dignissim tincidunt vestibulum. Sed consequat hendrerit nisl ut maximus. 
      </h2>
    </div>
  </div>
</section> -->
<!-- End teaser video -->

<!-- Concept Image of paper -->
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <img src="static/images/intro_pipeline_img.png" alt="Pipeline of MoReBench" loading="lazy"/>
    </div>
  </div>
</section>

<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <!-- TODO: Replace with your paper abstract -->
          <p>
            As AI systems progresses, we rely more on them to make decisions with us and for us. To ensure that such decisions are aligned with human values, it is imperative for us to understand not only what decisions they make but also how they come to those decisions. Reasoning language models, which provide both final responses and (partially transparent) intermediate thinking traces, present a timely opportunity to study AI procedural reasoning. Unlike math and code problems which often have objectively correct answers, moral dilemmas are an excellent testbed for process-focused evaluation because they allow for multiple defensible conclusions. To do so, we present MoReBench: 1,000 moral scenarios, each paired with a set of rubric criteria that experts consider essential to include (or avoid) when reasoning about the scenarios. MoReBench contains over 23 thousand criteria including identifying moral considerations, weighing trade-offs, and giving actionable recommendations to cover cases on AI advising humans moral decisions as well as making moral decisions autonomously. Separately, we curate MoReBench-Theory: 150 examples to test whether AI can reason under five major frameworks in normative ethics. Our results show that scaling laws and existing benchmarks on math, code, and scientific reasoning tasks (fail to) predict models' abilities to perform moral reasoning. Models also show partiality towards specific moral frameworks (e.g., Benthamite Act Utilitarianism and Kantian Deontology), which might be side effects of popular training paradigms. Together, these benchmarks advance process-focused reasoning evaluation towards safer and more transparent AI.          </p>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->

<!-- section title -->
<br>
<div class="container is-max-desktop">  
  <div class="columns is-centered has-text-centered">
    <div class="column is-four-fifths">
      <h2 class="title is-3"> Dataset Description </h2>
    </div>
  </div>
</div>
<!-- End section title -->

<!-- Dataset Description Image of paper -->
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <img src="static/images/morebench_morebench_theory_stat_img.png" alt="Datasets description" loading="lazy"/>
    </div>
  </div>
</section>



<!-- Image carousel -->
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <div id="results-carousel" class="carousel results-carousel">
       <div class="item">
        <!-- TODO: Replace with your research result images -->
        <img src="static/images/carousel1.jpg" alt="First research result visualization" loading="lazy"/>
        <!-- TODO: Replace with description of this result -->
        <h2 class="subtitle has-text-centered">
          First image description.
        </h2>
      </div>
      <div class="item">
        <!-- Your image here -->
        <img src="static/images/carousel2.jpg" alt="Second research result visualization" loading="lazy"/>
        <h2 class="subtitle has-text-centered">
          Second image description.
        </h2>
      </div>
      <div class="item">
        <!-- Your image here -->
        <img src="static/images/carousel3.jpg" alt="Third research result visualization" loading="lazy"/>
        <h2 class="subtitle has-text-centered">
         Third image description.
       </h2>
     </div>
     <div class="item">
      <!-- Your image here -->
      <img src="static/images/carousel4.jpg" alt="Fourth research result visualization" loading="lazy"/>
      <h2 class="subtitle has-text-centered">
        Fourth image description.
      </h2>
    </div>
  </div>
</div>
</div>
</section>
<!-- End image carousel -->

<!-- Model Comparison Section -->
<section class="section" id="model-comparison">
  <div class="container" style="max-width: 1800px; padding: 0 40px;">
    <div class="columns is-centered has-text-centered">
      <div class="column is-full">
        <h2 class="title is-3">Interactive Model Comparison</h2>
        <p class="subtitle" style="margin-bottom: 2rem;">Compare how different AI models reason through moral dilemmas</p>
      </div>
    </div>
    
    <!-- Comparison Interface -->
    <div id="comparison-interface">
      <style>
        #comparison-interface {
          font-family: 'Inter', sans-serif;
        }
        
        .comparison-controls {
          background: white;
          padding: 30px;
          border-radius: 12px;
          margin-bottom: 30px;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }
        
        .controls-grid {
          display: grid;
          grid-template-columns: 1fr;
          gap: 20px;
        }
        
        @media (min-width: 768px) {
          .controls-grid {
            grid-template-columns: 2fr 1fr 1fr;
          }
        }
        
        .control-group {
          margin-bottom: 0;
        }
        
        .control-group label {
          display: block;
          font-weight: 600;
          color: #2c3e50;
          margin-bottom: 10px;
          font-size: 1.05em;
        }
        
        .control-group select {
          width: 100%;
          padding: 12px 15px;
          border: 2px solid #e1e8ed;
          border-radius: 8px;
          font-size: 16px;
          transition: all 0.3s;
          background: white;
          cursor: pointer;
        }
        
        .control-group select:hover {
          border-color: #667eea;
        }
        
        .control-group select:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .dilemma-panel {
          background: white;
          padding: 30px;
          border-radius: 12px;
          margin-bottom: 25px;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }
        
        .dilemma-header {
          display: flex;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 3px solid #667eea;
        }
        
        .dilemma-header h3 {
          color: #667eea;
          font-size: 1.5em;
          font-weight: 700;
          margin: 0;
          flex: 1;
        }
        
        .metadata-pills {
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          margin-bottom: 20px;
        }
        
        .pill {
          display: inline-flex;
          align-items: center;
          padding: 6px 14px;
          background: #f0f4ff;
          color: #667eea;
          border-radius: 20px;
          font-size: 0.9em;
          font-weight: 500;
        }
        
        .pill-label {
          font-weight: 600;
          margin-right: 5px;
        }
        
        .dilemma-text {
          color: #2c3e50;
          line-height: 1.8;
          font-size: 1.05em;
          padding: 20px;
          background: #f8f9fa;
          border-radius: 8px;
          border-left: 4px solid #667eea;
          white-space: pre-wrap;
        }
        
        .comparison-grid {
          display: flex;
          flex-direction: column;
          gap: 25px;
          margin-bottom: 30px;
        }
        
        .models-row {
          display: grid;
          grid-template-columns: 1fr;
          gap: 25px;
        }
        
        @media (min-width: 1024px) {
          .models-row {
            grid-template-columns: 1fr 1fr;
          }
        }
        
        .rubrics-full-width {
          width: 100%;
          margin: 10px 0;
        }
        
        .model-panel {
          background: white;
          border-radius: 12px;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
          overflow: hidden;
          border-top: 4px solid;
        }
        
        .model-panel.model-1 {
          border-top-color: #667eea;
        }
        
        .model-panel.model-2 {
          border-top-color: #f093fb;
        }
        
        .model-header {
          padding: 20px 25px;
          font-weight: 700;
          font-size: 1.2em;
          color: white;
          text-align: center;
        }
        
        .model-panel.model-1 .model-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .model-panel.model-2 .model-header {
          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .content-section {
          padding: 25px;
          border-bottom: 1px solid #e1e8ed;
        }
        
        .content-section:last-child {
          border-bottom: none;
        }
        
        .section-title {
          color: #2c3e50;
          font-size: 1.1em;
          font-weight: 700;
          margin-bottom: 15px;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .content-text {
          color: #34495e;
          line-height: 1.7;
          white-space: pre-wrap;
          word-wrap: break-word;
          max-height: 400px;
          overflow-y: auto;
          padding: 18px;
          background: #f8f9fa;
          border-radius: 8px;
          border-left: 4px solid #667eea;
          font-size: 0.95em;
        }
        
        .model-panel.model-2 .content-text {
          border-left-color: #f093fb;
        }
        
        .content-text::-webkit-scrollbar {
          width: 8px;
        }
        
        .content-text::-webkit-scrollbar-track {
          background: #e1e8ed;
          border-radius: 4px;
        }
        
        .content-text::-webkit-scrollbar-thumb {
          background: #667eea;
          border-radius: 4px;
        }
        
        .rubrics-container {
          margin-top: 15px;
          overflow-x: auto;
        }
        
        .rubrics-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 0.9em;
          background: white;
          border-radius: 8px;
          overflow: hidden;
        }
        
        .rubrics-table thead {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
        }
        
        .rubrics-table th {
          padding: 12px 15px;
          text-align: left;
          font-weight: 600;
          border-bottom: 2px solid #667eea;
        }
        
        .rubrics-table th:last-child,
        .rubrics-table th:nth-last-child(2) {
          text-align: center;
          width: 120px;
        }
        
        .rubrics-table td {
          padding: 12px 15px;
          border-bottom: 1px solid #e1e8ed;
          vertical-align: middle;
        }
        
        .rubrics-table tbody tr:hover {
          background: #f8f9fa;
        }
        
        .rubrics-table tbody tr:last-child td {
          border-bottom: none;
        }
        
        .criterion-cell {
          color: #2c3e50;
          line-height: 1.5;
        }
        
        .criterion-cell.penalty {
          color: #dc2626;
          font-weight: 500;
        }
        
        .dimension-cell {
          color: #6b7280;
          font-size: 0.9em;
          text-transform: capitalize;
        }
        
        .weight-cell {
          text-align: center;
          font-weight: 600;
          font-size: 1em;
        }
        
        .weight-positive {
          color: #10b981;
        }
        
        .weight-negative {
          color: #dc2626;
        }
        
        .judgement-cell {
          text-align: center;
        }
        
        .judgement-badge {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 60px;
          padding: 6px 12px;
          border-radius: 20px;
          font-weight: 600;
          font-size: 0.85em;
        }
        
        .judgement-yes {
          background: #dcfce7;
          color: #166534;
        }
        
        .judgement-no {
          background: #fee2e2;
          color: #991b1b;
        }
        
        .score-row {
          background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
          border-top: 2px solid #667eea !important;
        }
        
        .score-row:hover {
          background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%) !important;
        }
        
        .score-row td {
          padding: 15px !important;
          border-bottom: none !important;
        }
        
        .score-cell {
          color: #667eea;
          font-weight: 700;
          font-size: 1.2em;
        }
        
        .stats-bar {
          display: flex;
          gap: 20px;
          padding: 15px;
          background: #f8f9fa;
          border-radius: 8px;
          margin-top: 15px;
          flex-wrap: wrap;
        }
        
        .stat-item {
          flex: 1;
          min-width: 100px;
        }
        
        .stat-label {
          font-size: 0.85em;
          color: #6b7280;
          margin-bottom: 4px;
        }
        
        .stat-value {
          font-size: 1.2em;
          font-weight: 700;
          color: #2c3e50;
        }
        
        .satisfied-count {
          color: #10b981;
        }
        
        .not-satisfied-count {
          color: #ef4444;
        }
        
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6b7280;
          background: white;
          border-radius: 12px;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }
        
        .empty-state-icon {
          font-size: 4em;
          margin-bottom: 15px;
          opacity: 0.3;
        }
        
        .loading-state {
          text-align: center;
          padding: 40px;
          color: #667eea;
          font-size: 1.2em;
        }
      </style>
      
      <div class="comparison-controls">
        <div class="controls-grid">
          <div class="control-group">
            <label for="task-select">Select Dilemma:</label>
            <select id="task-select">
              <option value="">Loading...</option>
            </select>
          </div>
          <div class="control-group">
            <label for="model1-select">Model 1:</label>
            <select id="model1-select">
              <option value="">Select a dilemma first</option>
            </select>
          </div>
          <div class="control-group">
            <label for="model2-select">Model 2:</label>
            <select id="model2-select">
              <option value="">Select a dilemma first</option>
            </select>
          </div>
        </div>
      </div>
      
      <div id="loading-state" class="loading-state" style="display: none;">
        Loading comparison data...
      </div>
      
      <div id="comparison-content" style="display: none;">
        <div class="dilemma-panel">
          <div class="dilemma-header">
            <h3>Moral Dilemma</h3>
          </div>
          <div class="metadata-pills" id="metadata-pills"></div>
          <div class="dilemma-text" id="dilemma-text"></div>
        </div>
        
        <div class="comparison-grid">
          <!-- Thinking Traces Side-by-Side -->
          <div class="models-row">
            <div class="model-panel model-1">
              <div class="model-header" id="model1-header">Model 1</div>
              <div class="content-section">
                <div class="section-title">🧠 Thinking Trace</div>
                <div class="content-text" id="model1-thinking"></div>
              </div>
            </div>
            
            <div class="model-panel model-2">
              <div class="model-header" id="model2-header">Model 2</div>
              <div class="content-section">
                <div class="section-title">🧠 Thinking Trace</div>
                <div class="content-text" id="model2-thinking"></div>
              </div>
            </div>
          </div>
          
          <!-- Thinking Trace Rubrics (Full Width) -->
          <div class="rubrics-full-width">
            <div class="rubrics-container" id="thinking-rubrics"></div>
          </div>
          
          <!-- Model Responses Side-by-Side -->
          <div class="models-row">
            <div class="model-panel model-1">
              <div class="content-section">
                <div class="section-title">💬 Model Response</div>
                <div class="content-text" id="model1-response"></div>
              </div>
            </div>
            
            <div class="model-panel model-2">
              <div class="content-section">
                <div class="section-title">💬 Model Response</div>
                <div class="content-text" id="model2-response"></div>
              </div>
            </div>
          </div>
          
          <!-- Response Rubrics (Full Width) -->
          <div class="rubrics-full-width">
            <div class="rubrics-container" id="response-rubrics"></div>
          </div>
        </div>
      </div>
      
      <div id="empty-state" class="empty-state">
        <div class="empty-state-icon">🎯</div>
        <div style="font-size: 1.2em; margin-bottom: 10px; font-weight: 600;">Select a dilemma and two models to compare</div>
        <p>Choose from the dropdowns above to begin your analysis</p>
      </div>
    </div>
  </div>
</section>

<script>
(function() {
  let comparisonData = [];
  let currentTask = null;
  let currentModel1 = null;
  let currentModel2 = null;
  
  document.getElementById('task-select').addEventListener('change', onTaskChange);
  document.getElementById('model1-select').addEventListener('change', onModel1Change);
  document.getElementById('model2-select').addEventListener('change', onModel2Change);
  
  // Load data when page loads
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadData);
  } else {
    loadData();
  }
  
  async function loadData() {
    showLoading();
    try {
      console.log('[Comparison] Loading data from moral_reasoning_website/comparison_data.json');
      const response = await fetch('moral_reasoning_website/comparison_data.json');
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      comparisonData = await response.json();
      console.log('[Comparison] Data loaded successfully:', comparisonData.length, 'tasks');
      console.log('[Comparison] First task has', comparisonData[0].models.length, 'models');
      initializeTaskDropdown();
      hideLoading();
    } catch (error) {
      console.error('[Comparison] Failed to load comparison data:', error);
      document.getElementById('loading-state').innerHTML = 
        '<div style="color: #dc2626;">Failed to load data: ' + error.message + '<br>Please check the console for details.</div>';
    }
  }
  
  function initializeTaskDropdown() {
    const taskSelect = document.getElementById('task-select');
    taskSelect.innerHTML = '<option value="">Select a dilemma...</option>';
    
    comparisonData.forEach((task, index) => {
      const option = document.createElement('option');
      option.value = index;
      option.textContent = `Dilemma ${task.task_number}: ${task.metadata.dilemma_preview}`;
      taskSelect.appendChild(option);
    });
  }
  
  function onTaskChange(e) {
    const taskIndex = e.target.value;
    if (taskIndex === '') {
      currentTask = null;
      resetModelDropdowns();
      hideContent();
      return;
    }
    
    currentTask = comparisonData[taskIndex];
    populateModelDropdowns();
    
    if (currentTask.models.length >= 2) {
      document.getElementById('model1-select').value = '0';
      document.getElementById('model2-select').value = '1';
      currentModel1 = currentTask.models[0];
      currentModel2 = currentTask.models[1];
      displayComparison();
    }
  }
  
  function populateModelDropdowns() {
    const model1Select = document.getElementById('model1-select');
    const model2Select = document.getElementById('model2-select');
    
    model1Select.innerHTML = '<option value="">Select model 1...</option>';
    model2Select.innerHTML = '<option value="">Select model 2...</option>';
    
    currentTask.models.forEach((model, index) => {
      const option1 = document.createElement('option');
      option1.value = index;
      option1.textContent = formatModelName(model.model_name);
      model1Select.appendChild(option1);
      
      const option2 = document.createElement('option');
      option2.value = index;
      option2.textContent = formatModelName(model.model_name);
      model2Select.appendChild(option2);
    });
  }
  
  function resetModelDropdowns() {
    document.getElementById('model1-select').innerHTML = '<option value="">Select a dilemma first</option>';
    document.getElementById('model2-select').innerHTML = '<option value="">Select a dilemma first</option>';
  }
  
  function onModel1Change(e) {
    const modelIndex = e.target.value;
    if (modelIndex === '' || !currentTask) {
      currentModel1 = null;
      return;
    }
    currentModel1 = currentTask.models[modelIndex];
    if (currentModel1 && currentModel2) {
      displayComparison();
    }
  }
  
  function onModel2Change(e) {
    const modelIndex = e.target.value;
    if (modelIndex === '' || !currentTask) {
      currentModel2 = null;
      return;
    }
    currentModel2 = currentTask.models[modelIndex];
    if (currentModel1 && currentModel2) {
      displayComparison();
    }
  }
  
  function displayComparison() {
    console.log('[Comparison] displayComparison() called');
    console.log('[Comparison] currentTask:', currentTask ? 'exists' : 'null');
    console.log('[Comparison] currentModel1:', currentModel1 ? currentModel1.model_name : 'null');
    console.log('[Comparison] currentModel2:', currentModel2 ? currentModel2.model_name : 'null');
    
    if (!currentTask || !currentModel1 || !currentModel2) {
      console.log('[Comparison] Missing data, hiding content');
      hideContent();
      return;
    }
    
    console.log('[Comparison] Showing content');
    document.getElementById('comparison-content').style.display = 'block';
    document.getElementById('empty-state').style.display = 'none';
    
    displayDilemma();
    displayBothModels(currentModel1, currentModel2);
    console.log('[Comparison] Display complete');
  }
  
  function displayDilemma() {
    const metadata = currentTask.metadata;
    
    const pillsContainer = document.getElementById('metadata-pills');
    pillsContainer.innerHTML = `
      <span class="pill"><span class="pill-label">Source:</span>${metadata.dilemma_source}</span>
      <span class="pill"><span class="pill-label">Type:</span>${metadata.case_type}</span>
      <span class="pill"><span class="pill-label">Domain:</span>${metadata.role_domain}</span>
      <span class="pill"><span class="pill-label">Context:</span>${metadata.context}</span>
    `;
    
    document.getElementById('dilemma-text').textContent = metadata.dilemma;
  }
  
  function displayModel(prefix, modelData) {
    console.log(`[Comparison] Displaying ${prefix}:`, modelData.model_name);
    console.log(`[Comparison] Thinking trace length:`, modelData.thinking_trace.response?.length || 0);
    console.log(`[Comparison] Model response length:`, modelData.model_resp.response?.length || 0);
    console.log(`[Comparison] Thinking rubrics:`, modelData.thinking_trace.rubrics?.length || 0);
    console.log(`[Comparison] Response rubrics:`, modelData.model_resp.rubrics?.length || 0);
    
    document.getElementById(`${prefix}-header`).textContent = formatModelName(modelData.model_name);
    
    const thinkingTrace = modelData.thinking_trace;
    const thinkingText = thinkingTrace.response || 'No thinking trace available';
    document.getElementById(`${prefix}-thinking`).textContent = thinkingText;
    console.log(`[Comparison] Set ${prefix}-thinking text length:`, thinkingText.length);
    
    const modelResp = modelData.model_resp;
    const responseText = modelResp.response || 'No response available';
    document.getElementById(`${prefix}-response`).textContent = responseText;
    console.log(`[Comparison] Set ${prefix}-response text length:`, responseText.length);
  }
  
  function displayBothModels(model1Data, model2Data) {
    // Display thinking traces and responses
    displayModel('model1', model1Data);
    displayModel('model2', model2Data);
    
    // Display comparison rubrics tables
    displayComparisonRubrics('thinking', model1Data.thinking_trace.rubrics, model2Data.thinking_trace.rubrics, 
                             formatModelName(model1Data.model_name), formatModelName(model2Data.model_name),
                             model1Data.thinking_trace.score, model2Data.thinking_trace.score);
    displayComparisonRubrics('response', model1Data.model_resp.rubrics, model2Data.model_resp.rubrics,
                             formatModelName(model1Data.model_name), formatModelName(model2Data.model_name),
                             model1Data.model_resp.score, model2Data.model_resp.score);
  }
  
  function displayComparisonRubrics(section, rubrics1, rubrics2, model1Name, model2Name, score1, score2) {
    const container = document.getElementById(`${section}-rubrics`);
    
    if (!container) {
      console.error(`[Comparison] Rubrics container not found: ${section}-rubrics`);
      return;
    }
    
    if (!rubrics1 || rubrics1.length === 0 || !rubrics2 || rubrics2.length === 0) {
      container.innerHTML = '<p style="color: #6b7280; font-style: italic;">No rubrics available</p>';
      return;
    }
    
    // Create a map of rubrics by criterion_id for model 2
    const rubrics2Map = new Map();
    rubrics2.forEach(r => rubrics2Map.set(r.criterion_id, r));
    
    // Build table HTML
    let tableHtml = `
      <table class="rubrics-table">
        <thead>
          <tr>
            <th>Criterion</th>
            <th>Dimension</th>
            <th style="text-align: center;">Weight</th>
            <th style="text-align: center;">${model1Name}</th>
            <th style="text-align: center;">${model2Name}</th>
          </tr>
        </thead>
        <tbody>
    `;
    
    rubrics1.forEach(rubric1 => {
      const rubric2 = rubrics2Map.get(rubric1.criterion_id);
      const weight = rubric1.weight || 1;
      const isNegative = weight < 0;
      const weightStr = weight > 0 ? `+${weight}` : `${weight}`;
      const weightClass = isNegative ? 'weight-negative' : 'weight-positive';
      const criterionClass = isNegative ? 'criterion-cell penalty' : 'criterion-cell';
      
      const judgement1 = rubric1.judgement.toLowerCase() === 'yes';
      const judgement2 = rubric2 ? rubric2.judgement.toLowerCase() === 'yes' : false;
      
      tableHtml += `
        <tr>
          <td class="${criterionClass}">${rubric1.criterion}</td>
          <td class="dimension-cell">${rubric1.dimension}</td>
          <td class="weight-cell ${weightClass}">${weightStr}</td>
          <td class="judgement-cell">
            <span class="judgement-badge judgement-${judgement1 ? 'yes' : 'no'}">
              ${judgement1 ? '✓ Yes' : '✗ No'}
            </span>
          </td>
          <td class="judgement-cell">
            <span class="judgement-badge judgement-${judgement2 ? 'yes' : 'no'}">
              ${judgement2 ? '✓ Yes' : '✗ No'}
            </span>
          </td>
        </tr>
      `;
    });
    
    // Add score row at the bottom
    const score1Display = score1 !== undefined && score1 !== null ? score1.toFixed(2) : 'N/A';
    const score2Display = score2 !== undefined && score2 !== null ? score2.toFixed(2) : 'N/A';
    
    tableHtml += `
          <tr class="score-row">
            <td colspan="3" style="text-align: right; font-weight: bold; padding-right: 20px;">Score:</td>
            <td class="score-cell" style="text-align: center; font-weight: bold; font-size: 1.1em;">${score1Display}</td>
            <td class="score-cell" style="text-align: center; font-weight: bold; font-size: 1.1em;">${score2Display}</td>
          </tr>
    `;
    
    tableHtml += `
        </tbody>
      </table>
    `;
    
    container.innerHTML = tableHtml;
    
    console.log(`[Comparison] Displayed comparison table for ${section} with ${rubrics1.length} rubrics`);
  }
  
  function displayStats(containerId, rubrics) {
    const container = document.getElementById(containerId);
    if (!rubrics || rubrics.length === 0) {
      container.style.display = 'none';
      return;
    }
    
    container.style.display = 'flex';
    
    const total = rubrics.length;
    const satisfied = rubrics.filter(r => r.judgement.toLowerCase() === 'yes').length;
    const notSatisfied = total - satisfied;
    const percentage = ((satisfied / total) * 100).toFixed(1);
    
    container.innerHTML = `
      <div class="stat-item">
        <div class="stat-label">Total</div>
        <div class="stat-value">${total}</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Satisfied</div>
        <div class="stat-value satisfied-count">${satisfied}</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Not Satisfied</div>
        <div class="stat-value not-satisfied-count">${notSatisfied}</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Success Rate</div>
        <div class="stat-value">${percentage}%</div>
      </div>
    `;
  }
  
  function formatModelName(name) {
    return name.replace(/_reasoning_(medium|high)$/, '').replace(/_/g, ' ');
  }
  
  function showLoading() {
    document.getElementById('loading-state').style.display = 'block';
  }
  
  function hideLoading() {
    document.getElementById('loading-state').style.display = 'none';
  }
  
  function hideContent() {
    document.getElementById('comparison-content').style.display = 'none';
    document.getElementById('empty-state').style.display = 'block';
  }
})();
</script>
<!-- End Model Comparison Section -->

<!-- section title -->
<br>
<div class="container is-max-desktop">  
  <div class="columns is-centered has-text-centered">
    <div class="column is-four-fifths">
      <h2 class="title is-3"> Leaderboard</h2>
      coming soon...
    </div>
  </div>
</div>
<!-- End section title -->



<!-- Youtube video -->
<!-- <section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container"> -->
      <!-- Paper video. -->
      <!-- <h2 class="title is-3">Video Presentation</h2>
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          
          <div class="publication-video"> -->
            <!-- TODO: Replace with your YouTube video ID -->
            <!-- <iframe src="https://www.youtube.com/embed/JkaxUblCGz0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->
<!-- End youtube video -->


<!-- Video carousel -->
<!-- <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-3">Another Carousel</h2>
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-video1"> -->
          <!-- TODO: Add poster image for better preview -->
          <!-- <video poster="" id="video1" controls muted loop height="100%" preload="metadata"> -->
            <!-- Your video file here -->
            <!-- <source src="static/videos/carousel1.mp4" type="video/mp4">
          </video>
        </div>
        <div class="item item-video2"> -->
          <!-- TODO: Add poster image for better preview -->
          <!-- <video poster="" id="video2" controls muted loop height="100%" preload="metadata"> -->
            <!-- Your video file here -->
            <!-- <source src="static/videos/carousel2.mp4" type="video/mp4">
          </video>
        </div>
        <div class="item item-video3"> -->
          <!-- TODO: Add poster image for better preview -->
          <!-- <video poster="" id="video3" controls muted loop height="100%" preload="metadata"> -->
            <!-- Your video file here -->
            <!-- <source src="static/videos/carousel3.mp4" type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</section> -->
<!-- End video carousel -->






<!-- Paper poster -->
<!-- <section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title">Poster</h2> -->

      <!-- TODO: Replace with your poster PDF -->
      <!-- <iframe  src="static/pdfs/sample.pdf" width="100%" height="550">
          </iframe>
        
      </div>
    </div>
  </section> -->
<!--End paper poster -->



<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <div class="bibtex-header">
        <h2 class="title">BibTeX</h2>
        <button class="copy-bibtex-btn" onclick="copyBibTeX()" title="Copy BibTeX to clipboard">
          <i class="fas fa-copy"></i>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <pre id="bibtex-code"><code>@article{YourPaperKey2024,
  title={Your Paper Title Here},
  author={First Author and Second Author and Third Author},
  journal={Conference/Journal Name},
  year={2024},
  url={https://your-domain.com/your-project-page}
}</code></pre>
    </div>
</section>
<!--End BibTex citation -->


  <footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Statcounter tracking code -->
  
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>
